<script type="text/javascript" charset="utf-8">
  var attr_selector;
  $(document).ready(function () {
    $('#table_selector').change(getAttrs());
    function getAttrs() {
      $.ajax({
        url: "<%= oracle_attrs_path %>",
        type: "GET",
        dataType: "json",
        data: {table: $('#table_selector').find('option:selected').text()},
        complete: function () {
        },
        success: function (data, test_staus, xhr) {
          var attrs = data.response;
          var options = '';
          for (var i = 0; i < attrs.length; i++) {
            options += '<option value="' + attrs[i] + '">' + attrs[i] + '</option>';
          }
          attr_selector = options;
        }
      })
    }
  })
</script>

<%= bootstrap_form_tag url: find_wrapper_path, method: :post do |f| %>

    <%= f.select(:table, options_for_select(@options), { label: 'Select where to find:' }, { id: 'table_selector' }) %>
      <%= link_to 'add','#', class: 'btn btn-md btn-primary', data: {batata: render(partial: 'partial_show')}%>
    <%= f.primary :submit %>

<% end %>